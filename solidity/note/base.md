##å€¼ç±»åž‹
+ bool
+ int/uint(8~256)
+ å®šç‚¹æ•° fixed/ufixed (ç›®å‰å¹¶æ²¡æœ‰å®Œå…¨æ”¯æŒ)
+ åœ°å€ address(20ä¸ªå­—èŠ‚)  address payable (å¯ä»¥å°†ä»¥å¤ªåŠå‘é€åˆ°è¯¥åœ°å€), address è½¬æ¢åˆ° address payable ä½¿ç”¨payable(address)
    + åœ°å€æˆå‘˜ balance transfer . address.balance è¯¥åœ°å€ä½™é¢ , address.transfer(10) å‘è¯¥åœ°å€è½¬è´¦(ä»¥ weiä¸ºå•ä½)
    + transfer: å¦‚æžœaddressæ˜¯ä¸€ä¸ªåˆçº¦,transferè°ƒç”¨æ—¶(fallback functionå°†ä¸€èµ·è°ƒç”¨),å¦‚æžœtransferå¤±è´¥.ä»¥å¤ªå¸è½¬ç§»å°†è¢«æ¢å¤,åˆçº¦å¼‚å¸¸åœæ­¢
    + send : sendæ˜¯ä½Žçº§çš„transfer,å¦‚æžœæ‰§è¡Œå¤±è´¥,å½“å‰åˆçº¦ä¸ä¼šå› å¼‚å¸¸è€Œåœæ­¢,sendä¼šè¿”å›žfalse
    + call,delegatecall, staticcall,ç›´æŽ¥è°ƒç”¨åˆçº¦addressçš„function
      + address.call(abi.encodewithsignature("register(string)", "myName"))
      + ä¹Ÿå¯ä»¥è°ƒæ•´gasè´¹ address.call{gas : 10000}(abi.encodewithsignature("register(string)", "myName"))
      + ä¹Ÿå¯ä»¥è°ƒæ•´ä»¥å¤ªå¸å€¼ address(nameReg).call{value: 1 ether}(abi.encodeWithSignature("register(string)", "MyName"));
+ bytes
+ string
+ unicode æ–‡å­— unicodeå¯ä»¥åŒ…å«ä»»ä½•æœ‰æ•ˆçš„ UTF-8 åºåˆ— example : string memory a = unicode"Hello ðŸ˜ƒ";
+ åå…­è¿›åˆ¶æ–‡å­— hex
+ æžšä¸¾ enum . example : enum ActionChoices { GoLeft, GoRight, GoStraight, SitStill }  , ActionChoices.GoLeft
+ å‡½æ•°ç±»åž‹
  + å¤–éƒ¨å‡½æ•° public external
  + å†…éƒ¨å‡½æ•° internal åªèƒ½åœ¨å½“å‰åˆçº¦å†…éƒ¨è°ƒç”¨,åŒ…æ‹¬å†…éƒ¨å‡½æ•°å’Œç»§æ‰¿å‡½æ•°
  + å‡½æ•°è½¬æ¢
    + pureå‡½æ•°å¯ä»¥è½¬æ¢ä¸ºviewå’Œnon-payableå‡½æ•°
    + viewå‡½æ•°å¯ä»¥è½¬æ¢ä¸ºnon-payableå‡½æ•°
    + payableå‡½æ•°å¯ä»¥è½¬æ¢ä¸ºnon-payableå‡½æ•°
  + å‡½æ•°æˆå‘˜
    + .address è¿”å›žå‡½æ•°åˆçº¦çš„åœ°å€
    + .selector è¿”å›žABIå‡½æ•°é€‰æ‹©å™¨

##å¼•ç”¨ç±»åž‹
+ memory ç”Ÿå‘½å‘¨æœŸä»…é™äºŽå¤–éƒ¨å‡½æ•°è°ƒç”¨
+ storage ç”Ÿå‘½å‘¨æœŸä»…é™äºŽåˆçº¦çš„ç”Ÿå‘½å‘¨æœŸ
+ calldata ä¸å¯ä¿®æ”¹,éžæŒä¹…æ€§åŒºåŸŸ,ç”¨äºŽå­˜å‚¨å‡½æ•°å‚æ•°,å…¶è¡Œä¸ºä¸»è¦ç±»ä¼¼äºŽå†…å­˜
+ array å¯ä»¥å›ºå®šå¤§å°,ä¹Ÿå¯ä»¥åŠ¨æ€å¤§å° æ–¹æ³•.pushç”¨äºŽè¿½åŠ æœ«å°¾å…ƒç´ 
+ struct
+ map

##å•ä½
###ä»¥å¤ªå•ä½
+ wei : 1 wei == 1
+ gwei : 1gwei == 1e9
+ ether : 1ether == 1e18

###æ—¶é—´å•ä½
```
seconds,minutes,hours,days,weeks
```

##ç‰¹æ®Šå˜é‡å’Œå‡½æ•°
###åŒºå—å’Œäº¤æ˜“å±žæ€§
+ blockhash(uint blockNumber) returns (bytes32): ç»™å®šå—çš„å“ˆå¸Œå€¼ï¼Œå½“blocknumberæ˜¯ 256 ä¸ªæœ€è¿‘çš„å—ä¹‹ä¸€æ—¶ï¼›å¦åˆ™è¿”å›žé›¶
+ block.basefee( uint): å½“å‰åŒºå—çš„åŸºæœ¬è´¹ç”¨ï¼ˆEIP-3198å’ŒEIP-1559ï¼‰
+ block.chainid( uint): å½“å‰é“¾ id
+ block.coinbase( ): å½“å‰åŒºå—çŸ¿å·¥åœ°å€address payable
+ block.difficulty( uint): å½“å‰åŒºå—éš¾åº¦
+ block.gaslimit( uint): å½“å‰åŒºå—çš„gaslimit
+ block.number( uint): å½“å‰åŒºå—å·
+ block.timestamp( uint): å½“å‰åŒºå—æ—¶é—´æˆ³ï¼Œè‡ª Unix çºªå…ƒä»¥æ¥çš„ç§’æ•°
+ gasleft() returns (uint256): å‰©ä½™æ°”ä½“
+ msg.data( ): å®Œæ•´çš„è°ƒç”¨æ•°æ®bytes calldata
+ msg.sender( address): æ¶ˆæ¯çš„å‘é€è€…ï¼ˆå½“å‰è°ƒç”¨ï¼‰
+ msg.sig( bytes4): calldata çš„å‰å››ä¸ªå­—èŠ‚ï¼ˆå³å‡½æ•°æ ‡è¯†ç¬¦ï¼‰
+ msg.value( uint): éšæ¶ˆæ¯å‘é€çš„weiæ•°é‡
+ tx.gasprice( uint): äº¤æ˜“çš„gasä»·æ ¼
+ tx.origin( address): äº¤æ˜“çš„å‘é€è€…ï¼ˆå®Œæ•´çš„è°ƒç”¨é“¾ï¼‰

###ABIç¼–ç å’Œè§£ç å‡½æ•°
+ abi.decode(bytes memory encodedData, (...)) returns (...): ABI è§£ç ç»™å®šçš„æ•°æ®ï¼Œè€Œç±»åž‹åœ¨æ‹¬å·ä¸­ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ç»™å‡º
+ abi.encode(...) returns (bytes memory): ABI ç¼–ç ç»™å®šçš„å‚æ•°
+ abi.encodePacked(...) returns (bytes memory): æ‰§è¡Œç»™å®šå‚æ•°çš„åŽ‹ç¼©ç¼–ç ã€‚è¯·æ³¨æ„ï¼Œæ‰“åŒ…ç¼–ç å¯èƒ½ä¸æ˜Žç¡®ï¼
+ abi.encodeWithSelector(bytes4 selector, ...) returns (bytes memory): ABI ä»Žç¬¬äºŒä¸ªå¼€å§‹å¯¹ç»™å®šçš„å‚æ•°è¿›è¡Œç¼–ç ï¼Œå¹¶åœ¨ç»™å®šçš„å››å­—èŠ‚é€‰æ‹©å™¨ä¹‹å‰
+ abi.encodeWithSignature(string memory signature, ...) returns (bytes memory)ï¼š ç›¸å½“äºŽ abi.encodeWithSelector(bytes4(keccak256(bytes(signature))), ...)`

###å­—èŠ‚æˆå‘˜
```
bytes.concat(...) returns (bytes memory): å°†å¯å˜æ•°é‡çš„å­—èŠ‚å’Œ bytes1, ..., bytes32 å‚æ•°è¿žæŽ¥åˆ°ä¸€ä¸ªå­—èŠ‚æ•°ç»„
```
###é”™è¯¯å¤„ç†
+ assert(bool condition) å¦‚æžœæ¡ä»¶ä¸æ»¡è¶³ï¼Œåˆ™ä¼šå¯¼è‡´ Panic é”™è¯¯ï¼Œä»Žè€Œæ¢å¤çŠ¶æ€æ›´æ”¹ - ç”¨äºŽå†…éƒ¨é”™è¯¯ã€‚
+ require(bool condition) å¦‚æžœæ¡ä»¶ä¸æ»¡è¶³ï¼Œåˆ™æ¢å¤ - ç”¨äºŽè¾“å…¥æˆ–å¤–éƒ¨ç»„ä»¶ä¸­çš„é”™è¯¯
+ require(bool condition, string memory message) å¦‚æžœæ¡ä»¶ä¸æ»¡è¶³ï¼Œåˆ™æ¢å¤ - ç”¨äºŽè¾“å…¥æˆ–å¤–éƒ¨ç»„ä»¶ä¸­çš„é”™è¯¯ã€‚è¿˜æä¾›é”™è¯¯ä¿¡æ¯ã€‚
+ revert() ä¸­æ­¢æ‰§è¡Œå¹¶æ¢å¤çŠ¶æ€æ›´æ”¹
+ revert(string memory reason) ä¸­æ­¢æ‰§è¡Œå¹¶æ¢å¤çŠ¶æ€æ›´æ”¹ï¼Œæä¾›è§£é‡Šæ€§å­—ç¬¦ä¸²

###æ•°å­¦å’Œå¯†ç å‡½æ•°
+ addmod(uint x, uint y, uint k) returns (uint) ; XåŠ Y ç„¶åŽå¯¹K å–ä½™
+ mulmod(uint x, uint y, uint k) returns (uint) ; Xä¹˜Y ç„¶åŽå¯¹K å–ä½™
+ keccak256(bytes memory) returns (bytes32) è®¡ç®—è¾“å…¥çš„ Keccak-256 å“ˆå¸Œ
+ sha256(bytes memory) returns (bytes32) è®¡ç®—è¾“å…¥çš„ SHA-256 å“ˆå¸Œå€¼
+ ripemd160(bytes memory) returns (bytes20) è®¡ç®—è¾“å…¥çš„ RIPEMD-160 å“ˆå¸Œ

###åœ°å€ç±»åž‹çš„æˆå‘˜
+ address.balance( uint256) åœ°å€çš„ä½™é¢ å•ä½wei
+ address.code( )bytes memory åœ°å€å¤„çš„ä»£ç ï¼ˆå¯ä»¥ä¸ºç©ºï¼‰
+ address.codehash( bytes32) åœ°å€çš„ä»£ç å“ˆå¸Œ
+ address payable.transfer(uint256 amount)å‘é€ç»™å®šæ•°é‡çš„ Wei åˆ°Addressï¼Œå¤±è´¥æ—¶æ¢å¤ï¼Œè½¬å‘ 2300 gas æ´¥è´´ï¼Œä¸å¯è°ƒæ•´
+ address payable.send(uint256 amount) returns (bool) å‘é€ç»™å®šæ•°é‡çš„ Wei åˆ°Addressï¼Œfalseå¤±è´¥è¿”å›žï¼Œè½¬å‘ 2300 gas æ´¥è´´ï¼Œä¸å¯è°ƒæ•´
+ address.call(bytes memory) returns (bool, bytes memory) CALLä½¿ç”¨ç»™å®šçš„æœ‰æ•ˆè½½è·å‘å‡ºä½Žçº§åˆ«ï¼Œè¿”å›žæˆåŠŸæ¡ä»¶å’Œè¿”å›žæ•°æ®ï¼Œè½¬å‘æ‰€æœ‰å¯ç”¨çš„æ°”ä½“ï¼Œå¯è°ƒæ•´

####note
```
åœ¨ 0.5.0 ç‰ˆæœ¬ä¹‹å‰ï¼ŒSolidity å…è®¸åˆçº¦å®žä¾‹è®¿é—®åœ°å€æˆå‘˜ï¼Œä¾‹å¦‚this.balanceã€‚çŽ°åœ¨ç¦æ­¢è¿™æ ·åšï¼Œå¿…é¡»è¿›è¡Œæ˜¾å¼è½¬æ¢ä¸ºåœ°å€ï¼šaddress(this).balanceã€‚
```

###åˆåŒç›¸å…³
+ this ; å½“å‰åˆçº¦
+ selfdestruct(address payable recipient) é”€æ¯å½“å‰åˆçº¦ï¼Œå°†å…¶èµ„é‡‘å‘é€åˆ°ç»™å®šåœ°å€ å¹¶ç»“æŸæ‰§è¡Œã€‚è¯·æ³¨æ„ï¼Œå®ƒselfdestructæœ‰ä¸€äº›ç»§æ‰¿è‡ª EVM çš„ç‰¹æ€§ï¼š
æŽ¥æ”¶åˆçº¦çš„æŽ¥æ”¶å‡½æ•°æ²¡æœ‰æ‰§è¡Œã€‚ åˆçº¦ä»…åœ¨äº¤æ˜“ç»“æŸæ—¶æ‰çœŸæ­£è¢«é”€æ¯ï¼Œreverts å¯èƒ½ä¼šâ€œæ’¤æ¶ˆâ€é”€æ¯

###ç±»åž‹ä¿¡æ¯
+ type(C).name åˆåŒåç§°ã€‚
+ type(C).creationCode åŒ…å«åˆçº¦åˆ›å»ºå­—èŠ‚ç çš„å†…å­˜å­—èŠ‚æ•°ç»„ã€‚è¿™å¯ç”¨äºŽå†…è”æ±‡ç¼–ä»¥æž„å»ºè‡ªå®šä¹‰åˆ›å»ºä¾‹ç¨‹ï¼Œå°¤å…¶æ˜¯é€šè¿‡ä½¿ç”¨create2æ“ä½œç ã€‚æ­¤å±žæ€§ä¸èƒ½åœ¨åˆçº¦æœ¬èº«æˆ–ä»»ä½•æ´¾ç”Ÿåˆçº¦ä¸­è®¿é—®ã€‚å®ƒå¯¼è‡´å­—èŠ‚ç åŒ…å«åœ¨è°ƒç”¨ç«™ç‚¹çš„å­—èŠ‚ç ä¸­ï¼Œå› æ­¤ä¸å¯èƒ½è¿›è¡Œè¿™æ ·çš„å¾ªçŽ¯å¼•ç”¨
+ type(C).runtimeCode åŒ…å«åˆçº¦è¿è¡Œæ—¶å­—èŠ‚ç çš„å†…å­˜å­—èŠ‚æ•°ç»„ã€‚è¿™æ˜¯é€šå¸¸ç”± çš„æž„é€ å‡½æ•°éƒ¨ç½²çš„ä»£ç Cã€‚å¦‚æžœCæœ‰ä¸€ä¸ªä½¿ç”¨å†…è”æ±‡ç¼–çš„æž„é€ å‡½æ•°ï¼Œè¿™å¯èƒ½ä¸Žå®žé™…éƒ¨ç½²çš„å­—èŠ‚ç ä¸åŒã€‚å¦è¯·æ³¨æ„ï¼Œåº“åœ¨éƒ¨ç½²æ—¶ä¿®æ”¹å…¶è¿è¡Œæ—¶å­—èŠ‚ç ä»¥é˜²æ­¢å¸¸è§„è°ƒç”¨ã€‚ä¸Ž ç›¸åŒçš„é™åˆ¶.creationCodeä¹Ÿé€‚ç”¨äºŽæ­¤å±žæ€§ã€‚
+ type(I).interfaceIdï¼š ç”²bytes4åŒ…å«å€¼EIP-165 ç»™å®šçš„æŽ¥å£çš„æŽ¥å£æ ‡è¯†ç¬¦Iã€‚è¯¥æ ‡è¯†ç¬¦è¢«å®šä¹‰ä¸ºXORæŽ¥å£æœ¬èº«å†…å®šä¹‰çš„æ‰€æœ‰å‡½æ•°é€‰æ‹©å™¨çš„æ ‡è¯†ç¬¦â€”â€”ä¸åŒ…æ‹¬æ‰€æœ‰ç»§æ‰¿çš„å‡½æ•°ã€‚
+ type(T).min type å¯è¡¨ç¤ºçš„æœ€å°å€¼T
+ type(T).max type å¯è¡¨ç¤ºçš„æœ€å¤§å€¼T

##é”™è¯¯å¤„ç† Assertã€Requireã€Revert å’Œ Exceptions
###Assert
è¯¥assertå‡½æ•°ä¼šåˆ›å»ºç±»åž‹ä¸º çš„é”™è¯¯Panic(uint256),æ–­è¨€åº”è¯¥åªç”¨äºŽæµ‹è¯•å†…éƒ¨é”™è¯¯å’Œæ£€æŸ¥ä¸å˜é‡ã€‚æ­£å¸¸è¿è¡Œçš„ä»£ç æ°¸è¿œä¸åº”è¯¥é€ æˆææ…Œï¼Œå³ä½¿æ˜¯åœ¨æ— æ•ˆçš„å¤–éƒ¨è¾“å…¥ä¸Šä¹Ÿä¸åº”è¯¥.

ä»¥ä¸‹æƒ…å†µä¼šäº§ç”Ÿ Panic å¼‚å¸¸ã€‚ä¸Žé”™è¯¯æ•°æ®ä¸€èµ·æä¾›çš„é”™è¯¯ä»£ç è¡¨ç¤ºææ…Œçš„ç±»åž‹
1. 0x00ï¼šç”¨äºŽé€šç”¨ç¼–è¯‘å™¨æ’å…¥çš„ææ…Œ
2. 0x01ï¼šå¦‚æžœæ‚¨assertä½¿ç”¨è®¡ç®—ç»“æžœä¸º false çš„å‚æ•°è°ƒç”¨
3. 0x11ï¼šå¦‚æžœç®—æœ¯è¿ç®—å¯¼è‡´å—å¤–ä¸‹æº¢æˆ–ä¸Šæº¢ã€‚unchecked { ... }
4. 0x12: å¦‚æžœæ‚¨é™¤ä»¥æˆ–å–æ¨¡ä¸ºé›¶ï¼ˆä¾‹å¦‚æˆ–ï¼‰ã€‚5 / 023 % 0
5. 0x21ï¼šå¦‚æžœå°†å¤ªå¤§æˆ–ä¸ºè´Ÿçš„å€¼è½¬æ¢ä¸ºæžšä¸¾ç±»åž‹ã€‚
6. 0x22ï¼šå¦‚æžœæ‚¨è®¿é—®çš„å­˜å‚¨å­—èŠ‚æ•°ç»„ç¼–ç ä¸æ­£ç¡®ã€‚
7. 0x31ï¼šå¦‚æžœä½ è°ƒç”¨.pop()ä¸€ä¸ªç©ºæ•°ç»„ã€‚
8. 0x32ï¼šå¦‚æžœæ‚¨bytesNåœ¨è¶Šç•Œæˆ–è´Ÿç´¢å¼•ï¼ˆå³x[i]whereæˆ–ï¼‰å¤„è®¿é—®æ•°ç»„æˆ–æ•°ç»„åˆ‡ç‰‡ã€‚i >= x.lengthi < 0
9. 0x41ï¼šå¦‚æžœåˆ†é…å¤ªå¤šå†…å­˜æˆ–åˆ›å»ºçš„æ•°ç»„å¤ªå¤§ã€‚
10. 0x51ï¼šå¦‚æžœè°ƒç”¨å†…éƒ¨å‡½æ•°ç±»åž‹çš„é›¶åˆå§‹åŒ–å˜é‡ã€‚

### require
è¯¥requireå‡½æ•°è¦ä¹ˆåˆ›å»ºä¸€ä¸ªæ²¡æœ‰ä»»ä½•æ•°æ®çš„é”™è¯¯ï¼Œè¦ä¹ˆåˆ›å»ºä¸€ä¸ªç±»åž‹ä¸º çš„é”™è¯¯Error(string)ã€‚å®ƒåº”è¯¥ç”¨äºŽç¡®ä¿åœ¨æ‰§è¡Œæ—¶é—´ä¹‹å‰æ— æ³•æ£€æµ‹åˆ°çš„æœ‰æ•ˆæ¡ä»¶ã€‚è¿™åŒ…æ‹¬å¯¹å¤–éƒ¨åˆåŒè°ƒç”¨çš„è¾“å…¥æˆ–è¿”å›žå€¼çš„æ¡ä»¶ã€‚

ä¸€ä¸ªError(string)ä¾‹å¤–ï¼ˆæˆ–ä¸å¸¦æ•°æ®çš„å¼‚å¸¸ï¼‰ç”±åœ¨ä¸‹åˆ—æƒ…å†µä¸‹ï¼Œç¼–è¯‘å™¨ç”Ÿæˆçš„ï¼š
1. è°ƒç”¨require(x)wherexè¯„ä¼°ä¸ºfalse.
2. å¦‚æžœæ‚¨ä½¿ç”¨revert()æˆ–revert("description")ã€‚
3. å¦‚æžœæ‚¨æ‰§è¡Œé’ˆå¯¹ä¸åŒ…å«ä»£ç çš„åˆåŒçš„å¤–éƒ¨å‡½æ•°è°ƒç”¨ã€‚
4. å¦‚æžœæ‚¨çš„åˆçº¦é€šè¿‡æ²¡æœ‰payableä¿®é¥°ç¬¦çš„å…¬å…±å‡½æ•°ï¼ˆåŒ…æ‹¬æž„é€ å‡½æ•°å’Œå›žé€€å‡½æ•°ï¼‰æŽ¥æ”¶ Ether ã€‚
5. å¦‚æžœæ‚¨çš„åˆçº¦é€šè¿‡å…¬å…± getter å‡½æ•°æŽ¥æ”¶ Etherã€‚

å¯¹äºŽä»¥ä¸‹æƒ…å†µï¼Œå°†è½¬å‘æ¥è‡ªå¤–éƒ¨è°ƒç”¨ï¼ˆå¦‚æžœæä¾›ï¼‰çš„é”™è¯¯æ•°æ®ã€‚è¿™æ„å‘³ç€å®ƒå¯èƒ½å¯¼è‡´é”™è¯¯æˆ–ææ…Œï¼ˆæˆ–å…¶ä»–ä»»ä½•ç»™å‡ºçš„ï¼‰ï¼š
1. å¦‚æžœä¸€ä¸ª.transfer()å¤±è´¥ã€‚
2. å¦‚æžœæ‚¨é€šè¿‡æ¶ˆæ¯è°ƒç”¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œä½†å®ƒæ²¡æœ‰æ­£ç¡®å®Œæˆï¼ˆå³ï¼Œå®ƒè€—å°½äº† gasï¼Œæ²¡æœ‰åŒ¹é…çš„å‡½æ•°ï¼Œæˆ–è€…æœ¬èº«æŠ›å‡ºå¼‚å¸¸ï¼‰ï¼Œé™¤éžä½¿ç”¨äº†ä½Žçº§æ“ä½œ callã€sendã€delegatecallã€callcodeæˆ–staticcall ã€‚ä½Žçº§æ“ä½œä»Žä¸æŠ›å‡ºå¼‚å¸¸ï¼Œè€Œæ˜¯é€šè¿‡è¿”å›žæŒ‡ç¤ºå¤±è´¥falseã€‚
3. å¦‚æžœæ‚¨ä½¿ç”¨newå…³é”®å­—åˆ›å»ºåˆåŒï¼Œä½†åˆåŒåˆ›å»ºæœªæ­£ç¡®å®Œæˆã€‚

### revert
if(msg.sender != owner) { revert(); }  ç­‰åŒäºŽ require(msg.sender == owner);





## contract
### åˆ›å»ºåˆçº¦
1. å¯ä»¥é€šè¿‡eth transaction ä¸Šé“¾åˆ›å»ºåˆçº¦
2. ä¹Ÿå¯ä»¥åœ¨solidityå†…éƒ¨åˆ›å»ºåˆçº¦,é€šè¿‡constructorè°ƒç”¨åˆ›å»º
3. é€šè¿‡ç¨‹åºåˆ›å»ºçš„å¦ä¸€ç§æ–¹å¼,è¿˜å¯ä»¥é€šè¿‡web3.jsçš„web3.eth.Contractå‡½æ•°åˆ›å»º

### å¯è§æ€§
1. external : å¤–éƒ¨å‡½æ•°æ˜¯åˆçº¦æŽ¥å£çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ„å‘³ç€å®ƒä»¬å¯ä»¥ä»Žå…¶ä»–åˆçº¦å’Œé€šè¿‡äº¤æ˜“è°ƒç”¨ã€‚å¤–éƒ¨å‡½æ•°fä¸èƒ½åœ¨å†…éƒ¨è°ƒç”¨ï¼ˆå³f()ä¸èµ·ä½œç”¨ï¼Œä½†this.f()æœ‰æ•ˆï¼‰
2. public : å…¬å…±å‡½æ•°æ˜¯åˆçº¦æŽ¥å£çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨å†…éƒ¨æˆ–é€šè¿‡æ¶ˆæ¯è°ƒç”¨ã€‚å¯¹äºŽå…¬å…±çŠ¶æ€å˜é‡ï¼Œä¼šç”Ÿæˆä¸€ä¸ªè‡ªåŠ¨ getter å‡½æ•°ï¼ˆè§ä¸‹æ–‡ï¼‰ã€‚
3. internal : è¿™äº›å‡½æ•°å’ŒçŠ¶æ€å˜é‡åªèƒ½åœ¨å†…éƒ¨è®¿é—®ï¼ˆå³ä»Žå½“å‰åˆçº¦æˆ–ä»Žå®ƒç»§æ‰¿çš„åˆçº¦ä¸­ï¼‰ï¼Œè€Œä¸èƒ½ä½¿ç”¨this. è¿™æ˜¯çŠ¶æ€å˜é‡çš„é»˜è®¤å¯è§æ€§çº§åˆ«
4. private : ç§æœ‰å‡½æ•°å’ŒçŠ¶æ€å˜é‡ä»…å¯¹å®šä¹‰å®ƒä»¬çš„åˆçº¦å¯è§ï¼Œåœ¨æ´¾ç”Ÿåˆçº¦ä¸­ä¸å¯è§ã€‚

### getter è®¿é—®å™¨
å¯¹äºŽæ‰€æœ‰publicçš„çŠ¶æ€å˜é‡ï¼ŒSolidityè¯­è¨€ç¼–è¯‘å™¨ï¼Œæä¾›äº†è‡ªåŠ¨ä¸ºçŠ¶æ€å˜é‡ç”Ÿæˆå¯¹åº”çš„getterï¼ˆè®¿é—®å™¨ï¼‰çš„ç‰¹æ€§

### modifier å‡½æ•°ä¿®é¥°ç¬¦
ä¿®é¥°ç¬¦å¯ç”¨äºŽä»¥å£°æ˜Žæ–¹å¼æ›´æ”¹å‡½æ•°çš„è¡Œä¸ºã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¿®é¥°ç¬¦åœ¨æ‰§è¡Œå‡½æ•°ä¹‹å‰è‡ªåŠ¨æ£€æŸ¥æ¡ä»¶ã€‚

ä¿®é¥°ç¬¦æ˜¯åˆçº¦çš„å¯ç»§æ‰¿å±žæ€§ï¼Œå¯ä»¥è¢«æ´¾ç”Ÿåˆçº¦è¦†ç›–ï¼Œä½†å‰ææ˜¯å®ƒä»¬è¢«æ ‡è®°ä¸ºvirtual

### å¸¸é‡å’Œä¸å¯å˜çŠ¶æ€å˜é‡ 
çŠ¶æ€å˜é‡å¯ä»¥å£°æ˜Žä¸ºconstantæˆ–immutableã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œåœ¨åˆçº¦æž„å»ºåŽæ— æ³•ä¿®æ”¹å˜é‡ã€‚å¯¹äºŽconstantå˜é‡ï¼Œå…¶å€¼å¿…é¡»åœ¨ç¼–è¯‘æ—¶å›ºå®šï¼Œè€Œå¯¹äºŽimmutableï¼Œå®ƒä»ç„¶å¯ä»¥åœ¨æž„é€ æ—¶èµ‹å€¼ã€‚

ä¸Žå¸¸è§„çŠ¶æ€å˜é‡ç›¸æ¯”ï¼Œå¸¸é‡å’Œä¸å¯å˜å˜é‡çš„ gas æˆæœ¬è¦ä½Žå¾—å¤šã€‚å¯¹äºŽå¸¸é‡å˜é‡ï¼Œåˆ†é…ç»™å®ƒçš„è¡¨è¾¾å¼è¢«å¤åˆ¶åˆ°å®ƒè¢«è®¿é—®çš„æ‰€æœ‰åœ°æ–¹ï¼Œå¹¶ä¸”æ¯æ¬¡éƒ½é‡æ–°è®¡ç®—ã€‚è¿™å…è®¸å±€éƒ¨ä¼˜åŒ–ã€‚ä¸å¯å˜å˜é‡åœ¨æž„é€ æ—¶è¢«è¯„ä¼°ä¸€æ¬¡ï¼Œå®ƒä»¬çš„å€¼è¢«å¤åˆ¶åˆ°ä»£ç ä¸­è®¿é—®å®ƒä»¬çš„æ‰€æœ‰ä½ç½®ã€‚å¯¹äºŽè¿™äº›å€¼ï¼Œä¿ç•™ 32 ä¸ªå­—èŠ‚ï¼Œå³ä½¿å®ƒä»¬é€‚åˆè¾ƒå°‘çš„å­—èŠ‚ã€‚å› æ­¤ï¼Œå¸¸é‡å€¼æœ‰æ—¶æ¯”ä¸å¯å˜å€¼ä¾¿å®œã€‚

å¹¶éžæ‰€æœ‰å¸¸é‡å’Œä¸å¯å˜ç±»åž‹éƒ½åœ¨æ­¤æ—¶å®žçŽ°ã€‚å”¯ä¸€æ”¯æŒçš„ç±»åž‹æ˜¯ å­—ç¬¦ä¸²ï¼ˆä»…ç”¨äºŽå¸¸é‡ï¼‰å’Œå€¼ç±»åž‹ã€‚

#### constant
å¯¹äºŽconstantå˜é‡ï¼Œè¯¥å€¼åœ¨ç¼–è¯‘æ—¶å¿…é¡»æ˜¯å¸¸é‡ï¼Œå¹¶ä¸”å¿…é¡»åœ¨å£°æ˜Žå˜é‡çš„åœ°æ–¹åˆ†é…ã€‚ä»»ä½•è®¿é—®å­˜å‚¨ã€åŒºå—é“¾æ•°æ®ï¼ˆä¾‹å¦‚block.timestampï¼Œaddress(this).balanceæˆ– block.numberï¼‰æˆ–æ‰§è¡Œæ•°æ®ï¼ˆmsg.valueæˆ–gasleft()ï¼‰æˆ–è°ƒç”¨å¤–éƒ¨åˆçº¦çš„è¡¨è¾¾å¼éƒ½æ˜¯ä¸å…è®¸çš„ã€‚å…è®¸å¯èƒ½å¯¹å†…å­˜åˆ†é…äº§ç”Ÿå‰¯ä½œç”¨çš„è¡¨è¾¾å¼ï¼Œä½†ä¸å…è®¸å¯¹å…¶ä»–å†…å­˜å¯¹è±¡äº§ç”Ÿå‰¯ä½œç”¨çš„è¡¨è¾¾å¼ã€‚å†…ç½®çš„åŠŸèƒ½ keccak256ï¼Œsha256ï¼Œripemd160ï¼Œecrecoverï¼Œaddmodå’Œmulmod è¢«å…è®¸çš„ï¼ˆå°½ç®¡ï¼Œä¸Žä¾‹å¤–keccak256ï¼Œä»–ä»¬è°ƒç”¨å¤–éƒ¨åˆåŒï¼‰ã€‚

#### immutable
å£°æ˜Žä¸ºçš„å˜é‡immutableæ¯”å£°æ˜Žä¸ºçš„constantå˜é‡é™åˆ¶è¦å°‘ä¸€äº›ï¼šå¯ä»¥åœ¨åˆçº¦çš„æž„é€ å‡½æ•°ä¸­æˆ–åœ¨å£°æ˜Žç‚¹ä¸ºä¸å¯å˜å˜é‡åˆ†é…ä»»æ„å€¼ã€‚å®ƒä»¬åªèƒ½åˆ†é…ä¸€æ¬¡ï¼Œä»Žé‚£æ—¶èµ·ï¼Œå³ä½¿åœ¨æž„å»ºæœŸé—´ä¹Ÿå¯ä»¥è¯»å–ã€‚

ç¼–è¯‘å™¨ç”Ÿæˆçš„åˆçº¦åˆ›å»ºä»£ç å°†åœ¨åˆçº¦è¿”å›žä¹‹å‰ä¿®æ”¹åˆçº¦çš„è¿è¡Œæ—¶ä»£ç ï¼Œæ–¹æ³•æ˜¯å°†æ‰€æœ‰å¯¹ä¸å¯å˜é¡¹çš„å¼•ç”¨æ›¿æ¢ä¸ºåˆ†é…ç»™å®ƒä»¬çš„å€¼ã€‚å¦‚æžœæ‚¨å°†ç¼–è¯‘å™¨ç”Ÿæˆçš„è¿è¡Œæ—¶ä»£ç ä¸Žå®žé™…å­˜å‚¨åœ¨åŒºå—é“¾ä¸­çš„ä»£ç è¿›è¡Œæ¯”è¾ƒï¼Œè¿™ä¸€ç‚¹å¾ˆé‡è¦

### functions
å‡½æ•°å¯ä»¥åœ¨åˆçº¦å†…éƒ¨å’Œå¤–éƒ¨å®šä¹‰ã€‚

åˆçº¦ä¹‹å¤–çš„å‡½æ•°ï¼Œä¹Ÿç§°ä¸ºâ€œè‡ªç”±å‡½æ•°â€ï¼Œæ€»æ˜¯å…·æœ‰éšå¼internal å¯è§æ€§ã€‚å®ƒä»¬çš„ä»£ç åŒ…å«åœ¨è°ƒç”¨å®ƒä»¬çš„æ‰€æœ‰åˆçº¦ä¸­ï¼Œç±»ä¼¼äºŽå†…éƒ¨åº“å‡½æ•°ã€‚

#### å‡½æ•°çŠ¶æ€å¯å˜æ€§
##### view æŸ¥çœ‹
å£°æ˜Žå‡½æ•°ï¼Œview åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ‰¿è¯ºä¸ä¿®æ”¹çŠ¶æ€ã€‚

ä»¥ä¸‹äº‹ä»¶è¢«è®¤ä¸ºæ˜¯ä¿®æ”¹çŠ¶æ€
1. Writing to state variables.
2. Emitting events.
3. Creating other contracts.
4. Using selfdestruct.
5. Sending Ether via calls.
6. Calling any function not marked view or pure.
7. Using low-level calls.
8. ä½¿ç”¨åŒ…å«ç‰¹å®šæ“ä½œç çš„å†…è”æ±‡ç¼–ã€‚

##### pure çº¯å‡½æ•°
å¯ä»¥å£°æ˜Žå‡½æ•°ï¼Œpureåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒä»¬æ‰¿è¯ºä¸è¯»å–æˆ–ä¿®æ”¹çŠ¶æ€ã€‚ç‰¹åˆ«æ˜¯ï¼Œåº”è¯¥å¯ä»¥pureåœ¨ç¼–è¯‘æ—¶è¯„ä¼°ä¸€ä¸ªå‡½æ•°ï¼Œåªç»™å‡ºå®ƒçš„è¾“å…¥ å’Œmsg.dataï¼Œä½†ä¸çŸ¥é“å½“å‰åŒºå—é“¾çŠ¶æ€ã€‚è¿™æ„å‘³ç€ä»Žimmutableå˜é‡ä¸­è¯»å–å¯ä»¥æ˜¯éžçº¯æ“ä½œ


ä»¥ä¸‹äº‹ä»¶è¢«ä»»åŠ¡æ˜¯ä»ŽçŠ¶æ€ä¸­è¯»å–
1. Reading from state variables.
2. Accessing address(this).balance or <address>.balance
3. Accessing any of the members of block, tx, msg (with the exception of msg.sig and msg.data).
4. Calling any function not marked pure.
5. ä½¿ç”¨åŒ…å«ç‰¹å®šæ“ä½œç çš„å†…è”æ±‡ç¼–

#### Special Functions
##### Receive
ä¸€ä¸ªåˆçº¦æœ€å¤šå¯ä»¥æœ‰ä¸€ä¸ªreceive()å‡½æ•°ï¼Œä½¿ç”¨ receive() external payable { ... } ï¼ˆæ²¡æœ‰ function å…³é”®å­—ï¼‰å£°æ˜Žã€‚æ­¤å‡½æ•°ä¸èƒ½æœ‰å‚æ•°ï¼Œä¸èƒ½è¿”å›žä»»ä½•å†…å®¹ï¼Œå¹¶ä¸”å¿…é¡»å…·æœ‰ external å’Œ payable ã€‚å®ƒå¯ä»¥æ˜¯è™šæ‹Ÿçš„ï¼Œå¯ä»¥ override å¹¶ä¸”å¯ä»¥å…·æœ‰ modifiers

æŽ¥æ”¶å‡½æ•°åœ¨è°ƒç”¨å…·æœ‰ç©º calldata çš„åˆçº¦æ—¶æ‰§è¡Œã€‚è¿™æ˜¯åœ¨æ™®é€š Ether ä¼ è¾“ï¼ˆä¾‹å¦‚ via.send()æˆ–.transfer()ï¼‰ä¸Šæ‰§è¡Œçš„å‡½æ•°ã€‚å¦‚æžœä¸å­˜åœ¨è¿™æ ·çš„å‡½æ•°ï¼Œä½†å­˜åœ¨å¯æ”¯ä»˜çš„å›žé€€å‡½æ•° ï¼Œåˆ™å›žé€€å‡½æ•°å°†åœ¨æ™®é€š Ether ä¼ è¾“ä¸­è¢«è°ƒç”¨ã€‚å¦‚æžœä¸å­˜åœ¨æŽ¥æ”¶ä»¥å¤ªå¸å’Œåº”ä»˜å›žé€€åŠŸèƒ½ï¼Œåˆ™åˆçº¦æ— æ³•é€šè¿‡å¸¸è§„äº¤æ˜“æŽ¥æ”¶ä»¥å¤ªå¸å¹¶å¼•å‘å¼‚å¸¸ã€‚

##### fallback
ä¸€ä¸ªåˆçº¦æœ€å¤šå¯ä»¥æœ‰ä¸€ä¸ªå›žé€€å‡½æ•°ï¼Œä½¿ç”¨ fallback () external [payable] æˆ– fallback (bytes calldata _input) external [payable] return (bytes memory _output) å£°æ˜Žï¼ˆä¸¤è€…éƒ½æ²¡æœ‰ function å…³é”®å­—ï¼‰ã€‚æ­¤åŠŸèƒ½å¿…é¡»å…·æœ‰å¤–éƒ¨å¯è§æ€§ã€‚å›žé€€å‡½æ•°å¯ä»¥æ˜¯è™šæ‹Ÿçš„ï¼Œå¯ä»¥è¦†ç›–å¹¶ä¸”å¯ä»¥å…·æœ‰ä¿®é¥°ç¬¦

å¦‚æžœæ²¡æœ‰å…¶ä»–å‡½æ•°ä¸Žç»™å®šçš„å‡½æ•°ç­¾ååŒ¹é…ï¼Œæˆ–è€…æ ¹æœ¬æ²¡æœ‰æä¾›æ•°æ®å¹¶ä¸”æ²¡æœ‰æŽ¥æ”¶ä»¥å¤ªå‡½æ•°ï¼Œåˆ™åœ¨è°ƒç”¨åˆçº¦æ—¶æ‰§è¡Œå›žé€€å‡½æ•°ã€‚å›žé€€å‡½æ•°æ€»æ˜¯æŽ¥æ”¶æ•°æ®ï¼Œä½†ä¸ºäº†ä¹ŸæŽ¥æ”¶ä»¥å¤ªï¼Œå®ƒå¿…é¡»è¢«æ ‡è®°ä¸ºpayableã€‚

##### overload
ä¸€ä¸ªåˆçº¦å¯ä»¥æœ‰å¤šä¸ªåŒåä½†å‚æ•°ç±»åž‹ä¸åŒçš„å‡½æ•°ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºâ€œé‡è½½â€ï¼Œä¹Ÿé€‚ç”¨äºŽç»§æ‰¿çš„å‡½æ•°
```
pragma solidity >=0.4.16 <0.9.0;

contract A {
    function f(uint _in) public pure returns (uint out) {
        out = _in;
    }

    function f(uint _in, bool _really) public pure returns (uint out) {
        if (_really)
            out = _in;
    }
}
```






### events
Solidity äº‹ä»¶åœ¨ EVM çš„æ—¥å¿—è®°å½•åŠŸèƒ½ä¹‹ä¸Šæä¾›äº†ä¸€ä¸ªæŠ½è±¡ã€‚åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡ä»¥å¤ªåŠå®¢æˆ·ç«¯çš„ RPC æŽ¥å£è®¢é˜…å’Œç›‘å¬è¿™äº›äº‹ä»¶

äº‹ä»¶æ˜¯åˆçº¦çš„å¯ç»§æ‰¿æˆå‘˜ã€‚å½“ä½ è°ƒç”¨å®ƒä»¬æ—¶ï¼Œå®ƒä»¬ä¼šå¯¼è‡´å‚æ•°å­˜å‚¨åœ¨äº¤æ˜“æ—¥å¿—ä¸­â€”â€”åŒºå—é“¾ä¸­çš„ä¸€ç§ç‰¹æ®Šæ•°æ®ç»“æž„ã€‚è¿™äº›æ—¥å¿—ä¸Žåˆçº¦çš„åœ°å€ç›¸å…³è”ï¼Œè¢«åˆå¹¶åˆ°åŒºå—é“¾ä¸­ï¼Œå¹¶ä¸”åªè¦ä¸€ä¸ªåŒºå—å¯è®¿é—®å°±ä¸€ç›´å­˜åœ¨ï¼ˆç›´åˆ°çŽ°åœ¨æ°¸è¿œå­˜åœ¨ï¼Œä½†è¿™å¯èƒ½ä¼šéšç€ Serenity æ”¹å˜ï¼‰ã€‚æ— æ³•ä»Žåˆçº¦å†…éƒ¨è®¿é—®æ—¥å¿—åŠå…¶äº‹ä»¶æ•°æ®ï¼ˆç”šè‡³ä¸èƒ½ä»Žåˆ›å»ºå®ƒä»¬çš„åˆçº¦ä¸­è®¿é—®ï¼‰ã€‚

### Function Overriding
å¦‚æžœåŸºå‡½æ•°è¢«æ ‡è®°ä¸º ï¼Œåˆ™å¯ä»¥é€šè¿‡ç»§æ‰¿å¥‘çº¦æ¥è¦†ç›–å®ƒä»¬ä»¥æ›´æ”¹å®ƒä»¬çš„è¡Œä¸ºvirtualã€‚ç„¶åŽè¦†ç›–å‡½æ•°å¿…é¡»ä½¿ç”¨overrideå‡½æ•°å¤´ä¸­çš„å…³é”®å­—ã€‚è¦†ç›–å‡½æ•°åªèƒ½å°†è¦†ç›–å‡½æ•°çš„å¯è§æ€§ä»Žexternalæ›´æ”¹ä¸ºpublicã€‚å¯å˜æ€§å¯èƒ½ä¼šæŒ‰ç…§ä»¥ä¸‹é¡ºåºæ›´æ”¹ä¸ºæ›´ä¸¥æ ¼çš„ï¼š nonpayableå¯ä»¥è¢«viewå’Œè¦†ç›–pureã€‚viewå¯ä»¥è¢«è¦†ç›–pureã€‚ payableæ˜¯ä¸€ä¸ªä¾‹å¤–ï¼Œä¸èƒ½æ›´æ”¹ä¸ºä»»ä½•å…¶ä»–å¯å˜æ€§ã€‚

```
// SPDX-License-Identifier: GPL-3.0
pragma solidity >=0.7.0 <0.9.0;

contract Base
{
    function foo() virtual external view {}
}

contract Middle is Base {}

contract Inherited is Middle
{
    function foo() override public pure {}
}
```

### Constructors
æž„é€ å‡½æ•°æ˜¯ç”¨constructorå…³é”®å­—å£°æ˜Žçš„å¯é€‰å‡½æ•°ï¼Œå®ƒåœ¨åˆçº¦åˆ›å»ºæ—¶æ‰§è¡Œï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­è¿è¡Œåˆçº¦åˆå§‹åŒ–ä»£ç ã€‚

æž„é€ å‡½æ•°è¿è¡ŒåŽï¼Œåˆçº¦çš„æœ€ç»ˆä»£ç è¢«éƒ¨ç½²åˆ°åŒºå—é“¾ã€‚ä»£ç çš„éƒ¨ç½²æˆæœ¬ä¸Žä»£ç é•¿åº¦æˆçº¿æ€§å…³ç³»ã€‚æ­¤ä»£ç åŒ…æ‹¬å±žäºŽå…¬å…±æŽ¥å£çš„æ‰€æœ‰å‡½æ•°ä»¥åŠå¯é€šè¿‡å‡½æ•°è°ƒç”¨ä»Žé‚£é‡Œè®¿é—®çš„æ‰€æœ‰å‡½æ•°ã€‚å®ƒä¸åŒ…æ‹¬æž„é€ å‡½æ•°ä»£ç æˆ–ä»…ä»Žæž„é€ å‡½æ•°è°ƒç”¨çš„å†…éƒ¨å‡½æ•°ã€‚


